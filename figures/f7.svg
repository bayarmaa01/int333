<svg viewBox="0 0 1400 1600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .host-box { fill: #34495E; stroke: #2C3E50; stroke-width: 3; }
      .host-text { fill: white; font-family: Arial, sans-serif; font-size: 20px; font-weight: bold; text-anchor: middle; }
      .docker-engine { fill: #0DB7ED; stroke: #0A8EBA; stroke-width: 2; }
      .compose-box { fill: #2C3E50; stroke: #1A252F; stroke-width: 2; }
      .container-box { fill: #3498DB; stroke: #2980B9; stroke-width: 2; }
      .inner-box { fill: #5DADE2; stroke: #3498DB; stroke-width: 1.5; }
      .app-box { fill: #85C1E9; stroke: #5DADE2; stroke-width: 1; }
      .title { fill: white; font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; }
      .subtitle { fill: white; font-family: Arial, sans-serif; font-size: 11px; }
      .detail { fill: #2C3E50; font-family: Arial, sans-serif; font-size: 10px; }
      .port-mapping { fill: #E74C3C; font-family: Arial, sans-serif; font-size: 11px; font-weight: bold; }
      .network-info { fill: #27AE60; font-family: Arial, sans-serif; font-size: 11px; font-weight: bold; }
    </style>
  </defs>
  
  <!-- Host Container -->
  <rect x="20" y="20" width="1360" height="1560" class="host-box" rx="10"/>
  <text x="700" y="55" class="host-text">HOST: AWS EC2 INSTANCE</text>
  <text x="700" y="75" class="subtitle">(Ubuntu 22.04 LTS)</text>
  
  <!-- Docker Engine -->
  <rect x="50" y="100" width="1300" height="1420" class="docker-engine" rx="8"/>
  <text x="700" y="130" class="title">DOCKER ENGINE (20.x)</text>
  
  <!-- Docker Compose -->
  <rect x="80" y="150" width="1240" height="60" class="compose-box" rx="5"/>
  <text x="700" y="175" class="title">DOCKER COMPOSE ORCHESTRATION</text>
  <text x="700" y="195" class="subtitle">Network: monitoring (bridge driver) | Volumes: prometheus-data, grafana-data</text>
  
  <!-- Container 1: Learning Platform -->
  <rect x="80" y="230" width="600" height="280" class="container-box" rx="5"/>
  <text x="380" y="255" class="title">CONTAINER: learning-platform</text>
  
  <rect x="100" y="270" width="560" height="220" class="inner-box" rx="4"/>
  <text x="380" y="290" class="subtitle">Image: learning-platform:build-number</text>
  <text x="380" y="305" class="subtitle">Base: tomcat:9-jdk11-openjdk-slim</text>
  
  <rect x="120" y="320" width="520" height="140" class="app-box" rx="3"/>
  <text x="380" y="340" class="detail" font-weight="bold">Tomcat 9 Application Server</text>
  <text x="380" y="365" class="detail" font-weight="bold">learning-platform.war</text>
  <text x="140" y="385" class="detail">• Java Servlets</text>
  <text x="140" y="400" class="detail">• Health Check API</text>
  <text x="140" y="415" class="detail">• Web Interface</text>
  <text x="140" y="435" class="detail">Ports: 8080:8080 → Host 80</text>
  <text x="140" y="450" class="detail">Restart: unless-stopped</text>
  
  <!-- Container 2: Prometheus -->
  <rect x="720" y="230" width="600" height="280" class="container-box" rx="5"/>
  <text x="1020" y="255" class="title">CONTAINER: prometheus</text>
  
  <rect x="740" y="270" width="560" height="220" class="inner-box" rx="4"/>
  <text x="1020" y="290" class="subtitle">Image: prom/prometheus:latest</text>
  <text x="760" y="315" class="detail">Config: /etc/prometheus/prometheus.yml</text>
  <text x="760" y="330" class="detail">Storage: /prometheus (TSDB)</text>
  <text x="760" y="350" class="detail" font-weight="bold">Scrape Targets:</text>
  <text x="760" y="365" class="detail">• node-exporter:9100</text>
  <text x="760" y="380" class="detail">• cadvisor:8080</text>
  <text x="760" y="395" class="detail">• app:8080</text>
  <text x="760" y="420" class="detail">Ports: 9090:9090</text>
  <text x="760" y="435" class="detail">Volume: prometheus-data</text>
  <text x="760" y="450" class="detail">Restart: unless-stopped</text>
  
  <!-- Container 3: Grafana -->
  <rect x="80" y="530" width="600" height="280" class="container-box" rx="5"/>
  <text x="380" y="555" class="title">CONTAINER: grafana</text>
  
  <rect x="100" y="570" width="560" height="220" class="inner-box" rx="4"/>
  <text x="380" y="590" class="subtitle">Image: grafana/grafana:latest</text>
  <text x="120" y="615" class="detail">Data Source: Prometheus</text>
  <text x="120" y="635" class="detail" font-weight="bold">Dashboards:</text>
  <text x="120" y="650" class="detail">• Node Exporter (ID: 1860)</text>
  <text x="120" y="665" class="detail">• Docker Monitoring (ID: 893)</text>
  <text x="120" y="680" class="detail">• Custom Learning Platform</text>
  <text x="120" y="705" class="detail">Ports: 3000:3000</text>
  <text x="120" y="720" class="detail">Volume: grafana-data</text>
  <text x="120" y="735" class="detail">Env: GF_SECURITY_ADMIN_PASSWORD=admin123</text>
  <text x="120" y="750" class="detail">Restart: unless-stopped</text>
  
  <!-- Container 4: cAdvisor -->
  <rect x="720" y="530" width="600" height="280" class="container-box" rx="5"/>
  <text x="1020" y="555" class="title">CONTAINER: cadvisor</text>
  
  <rect x="740" y="570" width="560" height="220" class="inner-box" rx="4"/>
  <text x="1020" y="590" class="subtitle">Image: gcr.io/cadvisor/cadvisor:v0.47.0</text>
  <text x="760" y="615" class="detail">Purpose: Docker container metrics</text>
  <text x="760" y="635" class="detail" font-weight="bold">Mounts:</text>
  <text x="760" y="650" class="detail">• /var/run:/var/run:ro</text>
  <text x="760" y="665" class="detail">• /sys:/sys:ro</text>
  <text x="760" y="680" class="detail">• /var/lib/docker:/var/lib/docker:ro</text>
  <text x="760" y="700" class="detail">Metrics: Container CPU, Memory, Network</text>
  <text x="760" y="720" class="detail">Ports: 8081:8080</text>
  <text x="760" y="735" class="detail">Privileged: true</text>
  <text x="760" y="750" class="detail">Restart: unless-stopped</text>
  
  <!-- Container 5: Node Exporter -->
  <rect x="80" y="830" width="600" height="280" class="container-box" rx="5"/>
  <text x="380" y="855" class="title">CONTAINER: node-exporter</text>
  
  <rect x="100" y="870" width="560" height="220" class="inner-box" rx="4"/>
  <text x="380" y="890" class="subtitle">Image: prom/node-exporter:latest</text>
  <text x="120" y="915" class="detail">Purpose: System-level metrics</text>
  <text x="120" y="935" class="detail" font-weight="bold">Mounts:</text>
  <text x="120" y="950" class="detail">• /proc:/host/proc:ro</text>
  <text x="120" y="965" class="detail">• /sys:/host/sys:ro</text>
  <text x="120" y="985" class="detail">Metrics: CPU, Memory, Disk, Network</text>
  <text x="120" y="1005" class="detail">Ports: 9100:9100</text>
  <text x="120" y="1020" class="detail">Restart: unless-stopped</text>
  
  <!-- Network Info -->
  <rect x="720" y="830" width="600" height="130" class="compose-box" rx="5"/>
  <text x="1020" y="860" class="title">Container Communication</text>
  <text x="1020" y="885" class="subtitle">Network: 'monitoring' (bridge)</text>
  <text x="1020" y="905" class="subtitle">All containers connected via internal DNS</text>
  <text x="1020" y="925" class="subtitle">Shared volumes for data persistence</text>
  <text x="1020" y="945" class="subtitle">Inter-container communication enabled</text>
  
  <!-- Port Mappings -->
  <rect x="80" y="1140" width="1240" height="350" class="compose-box" rx="5"/>
  <text x="700" y="1170" class="title">HOST PORT MAPPINGS</text>
  
  <rect x="120" y="1190" width="540" height="280" class="inner-box" rx="4"/>
  <text x="390" y="1215" class="port-mapping">Application Ports:</text>
  <text x="140" y="1240" class="detail">• 80 → learning-platform:8080</text>
  <text x="160" y="1255" class="detail" font-size="9px">(Main Application)</text>
  <text x="140" y="1280" class="detail">• 8080 → Jenkins (Native)</text>
  <text x="160" y="1295" class="detail" font-size="9px">(CI/CD Server - Not Containerized)</text>
  
  <text x="390" y="1330" class="port-mapping">Monitoring Ports:</text>
  <text x="140" y="1355" class="detail">• 3000 → grafana:3000</text>
  <text x="160" y="1370" class="detail" font-size="9px">(Dashboards & Visualization)</text>
  <text x="140" y="1395" class="detail">• 9090 → prometheus:9090</text>
  <text x="160" y="1410" class="detail" font-size="9px">(Metrics Database & Query UI)</text>
  <text x="140" y="1435" class="detail">• 8081 → cadvisor:8080</text>
  <text x="160" y="1450" class="detail" font-size="9px">(Container Metrics Collector)</text>
  
  <rect x="700" y="1190" width="540" height="280" class="inner-box" rx="4"/>
  <text x="970" y="1215" class="port-mapping">Exporter Ports:</text>
  <text x="720" y="1240" class="detail">• 9100 → node-exporter:9100</text>
  <text x="740" y="1255" class="detail" font-size="9px">(System-level Metrics)</text>
  
  <text x="970" y="1300" class="network-info">Security Groups:</text>
  <text x="720" y="1325" class="detail">• Inbound: 80, 3000, 8080, 8081, 9090, 9100</text>
  <text x="720" y="1345" class="detail">• Outbound: All traffic allowed</text>
  
  <text x="970" y="1380" class="network-info">Volume Persistence:</text>
  <text x="720" y="1405" class="detail">• prometheus-data: Time-series database</text>
  <text x="720" y="1425" class="detail">• grafana-data: Dashboards & settings</text>
  <text x="720" y="1445" class="detail">• Survives container restarts</text>
</svg>